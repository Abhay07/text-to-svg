'use strict';

var assert = require('assert');

var TextToSVG = require('../src/index.js').TextToSVG;
var textToSVG = new TextToSVG('fonts/ipag.ttf');

describe('TextToSVG', () => {
  describe('getD', () => {
    let expected = 'M 1.318359375 -13.517578125 L 2.654296875 -13.517578125 L 2.654296875 -8.4990234375 Q 3.9638671875 -9.80859375 5.255859375 -9.80859375 Q 6.7236328125 -9.80859375 7.400390625 -8.5166015625 Q 7.7783203125 -7.787109375 7.7783203125 -6.75 L 7.7783203125 -0.9140625 L 6.4423828125 -0.9140625 L 6.4423828125 -6.3544921875 Q 6.4423828125 -8.5341796875 5.044921875 -8.5341796875 Q 4.1044921875 -8.5341796875 3.392578125 -7.8486328125 Q 2.654296875 -7.1103515625 2.654296875 -6.1611328125 L 2.654296875 -0.9140625 L 1.318359375 -0.9140625 L 1.318359375 -13.517578125 Z M 16.9189453125 -3.568359375 Q 16.13671875 -0.5625 13.517578125 -0.5625 Q 11.8916015625 -0.5625 10.9423828125 -1.916015625 Q 10.0810546875 -3.1552734375 10.0810546875 -5.185546875 Q 10.0810546875 -7.1279296875 10.8896484375 -8.3671875 Q 11.8388671875 -9.80859375 13.5 -9.80859375 Q 16.7431640625 -9.80859375 16.9541015625 -4.9130859375 L 11.4345703125 -4.9130859375 Q 11.5400390625 -1.7666015625 13.53515625 -1.7666015625 Q 15.1171875 -1.7666015625 15.5126953125 -3.568359375 L 16.9189453125 -3.568359375 M 15.5126953125 -6.064453125 Q 15.22265625 -8.6044921875 13.5 -8.6044921875 Q 11.8388671875 -8.6044921875 11.4873046875 -6.064453125 L 15.5126953125 -6.064453125 Z M 23.203125 -2.8828125 Q 23.203125 -2.109375 23.94140625 -2.109375 Q 24.5478515625 -2.109375 25.2685546875 -2.25 L 25.2685546875 -0.9052734375 Q 24.205078125 -0.755859375 23.7041015625 -0.755859375 Q 21.796875 -0.755859375 21.796875 -2.6279296875 L 21.796875 -13.517578125 L 23.203125 -13.517578125 L 23.203125 -2.8828125 Z M 32.203125 -2.8828125 Q 32.203125 -2.109375 32.94140625 -2.109375 Q 33.5478515625 -2.109375 34.2685546875 -2.25 L 34.2685546875 -0.9052734375 Q 33.205078125 -0.755859375 32.7041015625 -0.755859375 Q 30.796875 -0.755859375 30.796875 -2.6279296875 L 30.796875 -13.517578125 L 32.203125 -13.517578125 L 32.203125 -2.8828125 Z M 40.517578125 -9.80859375 Q 42.169921875 -9.80859375 43.1103515625 -8.349609375 Q 43.9189453125 -7.13671875 43.9189453125 -5.185546875 Q 43.9189453125 -3.7177734375 43.435546875 -2.6103515625 Q 42.5390625 -0.5537109375 40.482421875 -0.5537109375 Q 38.8916015625 -0.5537109375 37.9423828125 -1.9072265625 Q 37.0810546875 -3.146484375 37.0810546875 -5.185546875 Q 37.0810546875 -7.3828125 38.07421875 -8.6396484375 Q 39.0234375 -9.80859375 40.517578125 -9.80859375 M 40.482421875 -8.5517578125 Q 39.515625 -8.5517578125 38.970703125 -7.541015625 Q 38.4873046875 -6.6533203125 38.4873046875 -5.185546875 Q 38.4873046875 -3.83203125 38.8828125 -2.9794921875 Q 39.427734375 -1.810546875 40.5 -1.810546875 Q 41.484375 -1.810546875 42.029296875 -2.8212890625 Q 42.5126953125 -3.708984375 42.5126953125 -5.16796875 Q 42.5126953125 -6.6884765625 42.01171875 -7.55859375 Q 41.4755859375 -8.5517578125 40.482421875 -8.5517578125 Z';
    let actual = textToSVG.getD('hello', 0, 0, 18);
    assert.strictEqual(actual, expected);
  });

  describe('getPath', () => {
    let expected = '<path d="M 1.318359375 -13.517578125 L 2.654296875 -13.517578125 L 2.654296875 -8.4990234375 Q 3.9638671875 -9.80859375 5.255859375 -9.80859375 Q 6.7236328125 -9.80859375 7.400390625 -8.5166015625 Q 7.7783203125 -7.787109375 7.7783203125 -6.75 L 7.7783203125 -0.9140625 L 6.4423828125 -0.9140625 L 6.4423828125 -6.3544921875 Q 6.4423828125 -8.5341796875 5.044921875 -8.5341796875 Q 4.1044921875 -8.5341796875 3.392578125 -7.8486328125 Q 2.654296875 -7.1103515625 2.654296875 -6.1611328125 L 2.654296875 -0.9140625 L 1.318359375 -0.9140625 L 1.318359375 -13.517578125 Z M 16.9189453125 -3.568359375 Q 16.13671875 -0.5625 13.517578125 -0.5625 Q 11.8916015625 -0.5625 10.9423828125 -1.916015625 Q 10.0810546875 -3.1552734375 10.0810546875 -5.185546875 Q 10.0810546875 -7.1279296875 10.8896484375 -8.3671875 Q 11.8388671875 -9.80859375 13.5 -9.80859375 Q 16.7431640625 -9.80859375 16.9541015625 -4.9130859375 L 11.4345703125 -4.9130859375 Q 11.5400390625 -1.7666015625 13.53515625 -1.7666015625 Q 15.1171875 -1.7666015625 15.5126953125 -3.568359375 L 16.9189453125 -3.568359375 M 15.5126953125 -6.064453125 Q 15.22265625 -8.6044921875 13.5 -8.6044921875 Q 11.8388671875 -8.6044921875 11.4873046875 -6.064453125 L 15.5126953125 -6.064453125 Z M 23.203125 -2.8828125 Q 23.203125 -2.109375 23.94140625 -2.109375 Q 24.5478515625 -2.109375 25.2685546875 -2.25 L 25.2685546875 -0.9052734375 Q 24.205078125 -0.755859375 23.7041015625 -0.755859375 Q 21.796875 -0.755859375 21.796875 -2.6279296875 L 21.796875 -13.517578125 L 23.203125 -13.517578125 L 23.203125 -2.8828125 Z M 32.203125 -2.8828125 Q 32.203125 -2.109375 32.94140625 -2.109375 Q 33.5478515625 -2.109375 34.2685546875 -2.25 L 34.2685546875 -0.9052734375 Q 33.205078125 -0.755859375 32.7041015625 -0.755859375 Q 30.796875 -0.755859375 30.796875 -2.6279296875 L 30.796875 -13.517578125 L 32.203125 -13.517578125 L 32.203125 -2.8828125 Z M 40.517578125 -9.80859375 Q 42.169921875 -9.80859375 43.1103515625 -8.349609375 Q 43.9189453125 -7.13671875 43.9189453125 -5.185546875 Q 43.9189453125 -3.7177734375 43.435546875 -2.6103515625 Q 42.5390625 -0.5537109375 40.482421875 -0.5537109375 Q 38.8916015625 -0.5537109375 37.9423828125 -1.9072265625 Q 37.0810546875 -3.146484375 37.0810546875 -5.185546875 Q 37.0810546875 -7.3828125 38.07421875 -8.6396484375 Q 39.0234375 -9.80859375 40.517578125 -9.80859375 M 40.482421875 -8.5517578125 Q 39.515625 -8.5517578125 38.970703125 -7.541015625 Q 38.4873046875 -6.6533203125 38.4873046875 -5.185546875 Q 38.4873046875 -3.83203125 38.8828125 -2.9794921875 Q 39.427734375 -1.810546875 40.5 -1.810546875 Q 41.484375 -1.810546875 42.029296875 -2.8212890625 Q 42.5126953125 -3.708984375 42.5126953125 -5.16796875 Q 42.5126953125 -6.6884765625 42.01171875 -7.55859375 Q 41.4755859375 -8.5517578125 40.482421875 -8.5517578125 Z"/>';
    let actual = textToSVG.getPath('hello', 0, 0, 18);
    assert.strictEqual(actual, expected);
  });

  describe('getSVG', () => {
    let expected = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M 1.318359375 -13.517578125 L 2.654296875 -13.517578125 L 2.654296875 -8.4990234375 Q 3.9638671875 -9.80859375 5.255859375 -9.80859375 Q 6.7236328125 -9.80859375 7.400390625 -8.5166015625 Q 7.7783203125 -7.787109375 7.7783203125 -6.75 L 7.7783203125 -0.9140625 L 6.4423828125 -0.9140625 L 6.4423828125 -6.3544921875 Q 6.4423828125 -8.5341796875 5.044921875 -8.5341796875 Q 4.1044921875 -8.5341796875 3.392578125 -7.8486328125 Q 2.654296875 -7.1103515625 2.654296875 -6.1611328125 L 2.654296875 -0.9140625 L 1.318359375 -0.9140625 L 1.318359375 -13.517578125 Z M 16.9189453125 -3.568359375 Q 16.13671875 -0.5625 13.517578125 -0.5625 Q 11.8916015625 -0.5625 10.9423828125 -1.916015625 Q 10.0810546875 -3.1552734375 10.0810546875 -5.185546875 Q 10.0810546875 -7.1279296875 10.8896484375 -8.3671875 Q 11.8388671875 -9.80859375 13.5 -9.80859375 Q 16.7431640625 -9.80859375 16.9541015625 -4.9130859375 L 11.4345703125 -4.9130859375 Q 11.5400390625 -1.7666015625 13.53515625 -1.7666015625 Q 15.1171875 -1.7666015625 15.5126953125 -3.568359375 L 16.9189453125 -3.568359375 M 15.5126953125 -6.064453125 Q 15.22265625 -8.6044921875 13.5 -8.6044921875 Q 11.8388671875 -8.6044921875 11.4873046875 -6.064453125 L 15.5126953125 -6.064453125 Z M 23.203125 -2.8828125 Q 23.203125 -2.109375 23.94140625 -2.109375 Q 24.5478515625 -2.109375 25.2685546875 -2.25 L 25.2685546875 -0.9052734375 Q 24.205078125 -0.755859375 23.7041015625 -0.755859375 Q 21.796875 -0.755859375 21.796875 -2.6279296875 L 21.796875 -13.517578125 L 23.203125 -13.517578125 L 23.203125 -2.8828125 Z M 32.203125 -2.8828125 Q 32.203125 -2.109375 32.94140625 -2.109375 Q 33.5478515625 -2.109375 34.2685546875 -2.25 L 34.2685546875 -0.9052734375 Q 33.205078125 -0.755859375 32.7041015625 -0.755859375 Q 30.796875 -0.755859375 30.796875 -2.6279296875 L 30.796875 -13.517578125 L 32.203125 -13.517578125 L 32.203125 -2.8828125 Z M 40.517578125 -9.80859375 Q 42.169921875 -9.80859375 43.1103515625 -8.349609375 Q 43.9189453125 -7.13671875 43.9189453125 -5.185546875 Q 43.9189453125 -3.7177734375 43.435546875 -2.6103515625 Q 42.5390625 -0.5537109375 40.482421875 -0.5537109375 Q 38.8916015625 -0.5537109375 37.9423828125 -1.9072265625 Q 37.0810546875 -3.146484375 37.0810546875 -5.185546875 Q 37.0810546875 -7.3828125 38.07421875 -8.6396484375 Q 39.0234375 -9.80859375 40.517578125 -9.80859375 M 40.482421875 -8.5517578125 Q 39.515625 -8.5517578125 38.970703125 -7.541015625 Q 38.4873046875 -6.6533203125 38.4873046875 -5.185546875 Q 38.4873046875 -3.83203125 38.8828125 -2.9794921875 Q 39.427734375 -1.810546875 40.5 -1.810546875 Q 41.484375 -1.810546875 42.029296875 -2.8212890625 Q 42.5126953125 -3.708984375 42.5126953125 -5.16796875 Q 42.5126953125 -6.6884765625 42.01171875 -7.55859375 Q 41.4755859375 -8.5517578125 40.482421875 -8.5517578125 Z"/></svg>';
    let actual = textToSVG.getSVG('hello', 0, 0, 18);
    assert.strictEqual(actual, expected);
  });
});
